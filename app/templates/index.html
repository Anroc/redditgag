{% load static %}
<html>
  <head>
    <title>redditgag - go and have fuck</title>
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" />
    <link rel="stylesheet" href="{% static 'css/redditgag.css' %}" />
  </head>
  <body>
    <div class="post-container">
    {% for post in posts %}
      <div class="post well">
        <h3 class="title">
          {{ post.title }}
          <small>
            submitted by /u/{{ post.author }} to /r/{{ post.subreddit }}
          </small>
        </h3>
        <div class="post-content">
          {% if post.kind == "IMAGE" %}
          <img src="{{ post.url }}" />
          {% elif post.kind == "VIDEO" %}
          <video>
            {% for source in post.video_sources %}
            <source type="{{ source.mime }}" src="{{ source.url }}" />
            {% endfor %}
          </video>
          {% elif post.kind == "IFRAME" %}
          <div class="aspect-ratio">
            <iframe src="{{ post.url }}" frameborder="0" allowfullscreen>
            </iframe>
          </div>
          {% comment %}
          {% elif post.kind == "TEXT" %}
          {% endcomment %}
          {% elif post.kind == "SORRY" %}
          <div class="sorry row">
            <div class="sorry-image col-sm-12 col-md-3">
              <img src="{% static 'img/sorry.svg' %}" />
            </div>
            <div class="sorry-text col-sm-12 col-md-9">
              <h6>Sorry</h6>
              <p>
                I wasn't able to find an embeddable version of
                <a href="{{ post.url }}">{{ post.url }}</a>. Maybe someone will
                send the developer a pull request to fix this ;)
              </p>
            </div>
          </div>
          {% endif %}
        </div>
        <div class="things">
          <a href="{{ post.permalink }}">comments</a>
        </div>
      </div>
    {% endfor %}
    </div>
  </body>
</html>
